# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Your Name <keyaedisa>
pkgname="dabs"
pkgver=3.3
pkgrel=3
epoch=
pkgdesc="dev abs builds"
arch=('x86_64')
url="https://github.com/keyaedisa/abd"
#license=('')
#groups=()
depends=("git"
		"gawk"
		"sed"
		"archiso"
		"bash")
makedepends=('git')
#checkdepends=()
#optdepends=()
provides=('dabs')
#conflicts=('')
#replaces=('absd')
#backup=()
#options=()
install=dabs.install
#changelog=
source=("gc"::"git+ssh://git@github.com/keyaedisa/abd.git/")
#noextract=()
#md5sums=()
sha256sums=('SKIP')

package() {
	mkdir -p "${pkgdir}/usr/local/bin/"
	cp "${srcdir}/gc/dabs/dabs" "${pkgdir}/usr/local/bin/dabs"
	mkdir -p "${pkgdir}/gc/etc/dabs/"
	cp -rf "${srcdir}/gc/misc/" "${pkgdir}/etc/dabs/"
	cp -rf "${srcdir}/gc/options/" "${pkgdir}/etc/dabs/"
	cp "${srcdir}/gc/options/.options" "${pkgdir}/etc/dabs/"
	rm -r "../gc"
	rm -r "${srcdir}"

	if [[ ${pkgname} == "abs" ]]; then
		sed -i  "0,/version/s/.*version.*/version=${pkgver}-${pkgrel}/" "${pkgdir}"/etc/abs/misc/.formatting
 	elif [[ ${pkgname} == "dabs" ]]; then
 		sed -i  "0,/version/s/.*version.*/version=${pkgver}-${pkgrel}/" "${pkgdir}"/etc/dabs/misc/.formatting
 	else
		echo "hey bb"
 	fi

}


