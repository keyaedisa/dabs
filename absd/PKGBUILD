# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Your Name <keyaedisa>
pkgname="absd"
pkgver=3.3
pkgrel=3
epoch=
pkgdesc="Command line utility to automate the building of an arch iso using a user provided profile! Also the official way to build XeroLinux and XeroLinux Gnome Edition! abs can even be used to build current Vanilla Arch ISO's! Both Releng and Baseline!"
arch=('x86_64')
url="https://github.com/keyaedisa/absd"
#license=('')
#groups=()
depends=("git"
		"gawk"
		"sed"
		"archiso"
		"bash")
makedepends=('git')
#checkdepends=()
#optdepends=()
provides=('absd')
#conflicts=('archiso-build-scripts')
#replaces=('archiso-build-scripts')
#backup=()
#options=()
#install=
#changelog=
source=("git+ssh://git@github.com/keyaedisa/absd.git")
#noextract=()
#md5sums=()
sha256sums=('SKIP')

package() {
	cd "${srcdir}"/
	mkdir -p "${pkgdir}/usr/local/bin/"
	cp "${srcdir}/absd" "${pkgdir}/usr/local/bin/absd"
	mkdir -p "${pkgdir}/etc/absd/"
	cp -rf "${srcdir}/misc/" "${pkgdir}/etc/absd/"
	cp -rf "${srcdir}/options/" "${pkgdir}/etc/absd/"
	cp "${srcdir}/options/.options" "${pkgdir}/etc/absd/"
	rm -r "../gc"
	rm -r "${srcdir}"

	if [[ ${pkgname} == "abs" ]]; then
		sed -i  "0,/version/s/.*version.*/version=${pkgver}-${pkgrel}/" "${pkgdir}/etc/abs/misc/.formatting"
 	elif [[ ${pkgname} == "absd" ]]; then
 		sed -i  "0,/version/s/.*version.*/version=${pkgver}-${pkgrel}/" "${pkgdir}/etc/abs/misc/.formatting"
 	else
		echo "hey bb"
 	fi

}


